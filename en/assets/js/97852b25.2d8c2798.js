"use strict";(self.webpackChunkai_cookbook=self.webpackChunkai_cookbook||[]).push([[7345],{1999:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>h,contentTitle:()=>s,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"cursor-integration/2-3-devops","title":"\ud83d\ude80 DevOpp","description":"Sau khi s\u1eed d\u1ee5ng c\xe1c prompt templates n\xe0y, DevOps engineer s\u1ebd c\xf3 kh\u1ea3 n\u0103ng:","source":"@site/docs/1-cursor-integration/2-3-devops.md","sourceDirName":"1-cursor-integration","slug":"/cursor-integration/2-3-devops","permalink":"/ai-cookbook/en/cursor-integration/2-3-devops","draft":false,"unlisted":false,"editUrl":"https://github.com/hiro-pna/ai-cookbook/tree/main/docs/1-cursor-integration/2-3-devops.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"\u2699\ufe0f Backend","permalink":"/ai-cookbook/en/cursor-integration/2-2-backend"},"next":{"title":"Quy tr\xecnh Pair-programming hi\u1ec7u qu\u1ea3 v\u1edbi AI","permalink":"/ai-cookbook/en/cursor-integration/meo-pair-programming"}}');var r=t(4848),c=t(8453);const o={sidebar_position:5},s="\ud83d\ude80 DevOpp",h={},l=[{value:"\ud83d\udc33 Containerization &amp; Infrastructure",id:"-containerization--infrastructure",level:2},{value:"1\ufe0f\u20e3 <strong>Docker Optimization &amp; Security</strong>",id:"1\ufe0f\u20e3-docker-optimization--security",level:3},{value:"\ud83d\udd27 <strong>Template: Multi-stage Dockerfile cho Node.js</strong>",id:"-template-multi-stage-dockerfile-cho-nodejs",level:4},{value:"\ud83d\ude80 CI/CD Pipeline",id:"-cicd-pipeline",level:2},{value:"2. X\xe2y d\u1ef1ng Pipeline CI/CD v\u1edbi GitLab Enterprise",id:"2-x\xe2y-d\u1ef1ng-pipeline-cicd-v\u1edbi-gitlab-enterprise",level:3},{value:"\u2601\ufe0f Infrastructure as Code",id:"\ufe0f-infrastructure-as-code",level:2},{value:"3. Kh\u1edfi t\u1ea1o h\u1ea1 t\u1ea7ng AWS v\u1edbi Terraform",id:"3-kh\u1edfi-t\u1ea1o-h\u1ea1-t\u1ea7ng-aws-v\u1edbi-terraform",level:3},{value:"4. C\u1ea5u h\xecnh Kubernetes Deployment v\u1edbi Helm",id:"4-c\u1ea5u-h\xecnh-kubernetes-deployment-v\u1edbi-helm",level:3},{value:"5. Setup GitLab Runner cho CI/CD",id:"5-setup-gitlab-runner-cho-cicd",level:3}];function a(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"-devopp",children:"\ud83d\ude80 DevOpp"})}),"\n",(0,r.jsxs)(e.admonition,{title:"\ud83c\udfaf M\u1ee5c ti\xeau",type:"info",children:[(0,r.jsx)(e.p,{children:"Sau khi s\u1eed d\u1ee5ng c\xe1c prompt templates n\xe0y, DevOps engineer s\u1ebd c\xf3 kh\u1ea3 n\u0103ng:"}),(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\ud83d\udc33 ",(0,r.jsx)(e.strong,{children:"Containerize applications"})," hi\u1ec7u qu\u1ea3 v\u1edbi Docker best practices"]}),"\n",(0,r.jsxs)(e.li,{children:["\ud83d\udd04 ",(0,r.jsx)(e.strong,{children:"Build CI/CD pipelines"})," robust v\xe0 scalable"]}),"\n",(0,r.jsxs)(e.li,{children:["\u2601\ufe0f ",(0,r.jsx)(e.strong,{children:"Manage infrastructure"})," as code v\u1edbi Terraform/Kubernetes"]}),"\n",(0,r.jsxs)(e.li,{children:["\ud83d\udcca ",(0,r.jsx)(e.strong,{children:"Implement monitoring"})," comprehensive cho production systems"]}),"\n"]})]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"-containerization--infrastructure",children:"\ud83d\udc33 Containerization & Infrastructure"}),"\n",(0,r.jsxs)(e.h3,{id:"1\ufe0f\u20e3-docker-optimization--security",children:["1\ufe0f\u20e3 ",(0,r.jsx)(e.strong,{children:"Docker Optimization & Security"})]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"\ud83c\udfaf T\xecnh hu\u1ed1ng:"})," Containerize applications v\u1edbi security v\xe0 performance best practices."]}),"\n",(0,r.jsxs)(e.h4,{id:"-template-multi-stage-dockerfile-cho-nodejs",children:["\ud83d\udd27 ",(0,r.jsx)(e.strong,{children:"Template: Multi-stage Dockerfile cho Node.js"})]}),"\n",(0,r.jsx)(e.admonition,{title:"T\u1ea1i sao ph\u1ea3i d\xf9ng Multi-stage build?",type:"info",children:(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Multi-stage build"})," l\xe0 m\u1ed9t k\u1ef9 thu\u1eadt c\u1ed1t l\xf5i \u0111\u1ec3 t\u1ed1i \u01b0u h\xf3a ",(0,r.jsx)(e.code,{children:"Dockerfile"}),". N\xf3 cho ph\xe9p b\u1ea1n t\xe1ch bi\u1ec7t m\xf4i tr\u01b0\u1eddng build (ch\u1ee9a SDK, dependencies, c\xf4ng c\u1ee5 bi\xean d\u1ecbch) kh\u1ecfi m\xf4i tr\u01b0\u1eddng ch\u1ea1y \u1ee9ng d\u1ee5ng (ch\u1ec9 ch\u1ee9a c\xe1c file th\u1ef1c thi c\u1ea7n thi\u1ebft). K\u1ebft qu\u1ea3 l\xe0 m\u1ed9t image cu\u1ed1i c\xf9ng c\xf3 k\xedch th\u01b0\u1edbc nh\u1ecf h\u01a1n \u0111\xe1ng k\u1ec3, gi\xfap ",(0,r.jsx)(e.strong,{children:"gi\u1ea3m th\u1eddi gian tri\u1ec3n khai, ti\u1ebft ki\u1ec7m chi ph\xed l\u01b0u tr\u1eef v\xe0 thu h\u1eb9p b\u1ec1 m\u1eb7t t\u1ea5n c\xf4ng (attack surface)"}),"."]})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Prompt:"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"Vi\u1ebft m\u1ed9t `Dockerfile` t\u1ed1i \u01b0u s\u1eed d\u1ee5ng k\u1ef9 thu\u1eadt multi-stage build cho m\u1ed9t \u1ee9ng d\u1ee5ng Node.js Express.\n\nY\xeau c\u1ea7u chi ti\u1ebft:\n\nStage 1: `builder`\n- S\u1eed d\u1ee5ng base image `node:18-alpine` \u0111\u1ec3 c\xf3 k\xedch th\u01b0\u1edbc nh\u1ecf.\n- \u0110\u1eb7t th\u01b0 m\u1ee5c l\xe0m vi\u1ec7c l\xe0 `/app`.\n- Sao ch\xe9p `package.json` v\xe0 `package-lock.json` tr\u01b0\u1edbc.\n- Ch\u1ea1y `npm ci --only=production` \u0111\u1ec3 c\xe0i \u0111\u1eb7t dependencies m\u1ed9t c\xe1ch nh\u1ea5t qu\xe1n v\xe0 an to\xe0n.\n- Sao ch\xe9p to\xe0n b\u1ed9 m\xe3 ngu\u1ed3n c\xf2n l\u1ea1i.\n- (T\xf9y ch\u1ecdn) Ch\u1ea1y l\u1ec7nh build c\u1ee7a \u1ee9ng d\u1ee5ng, v\xed d\u1ee5: `npm run build`.\n\nStage 2: Production (`final`)\n- B\u1eaft \u0111\u1ea7u t\u1eeb m\u1ed9t base image g\u1ecdn nh\u1eb9 `node:18-alpine`.\n- \u0110\u1eb7t th\u01b0 m\u1ee5c l\xe0m vi\u1ec7c l\xe0 `/app`.\n- Sao ch\xe9p c\xe1c dependencies \u0111\xe3 \u0111\u01b0\u1ee3c c\xe0i \u0111\u1eb7t t\u1eeb stage `builder`.\n- Sao ch\xe9p th\u01b0 m\u1ee5c `dist` (k\u1ebft qu\u1ea3 c\u1ee7a qu\xe1 tr\xecnh build) t\u1eeb stage `builder`.\n- T\u1ea1o m\u1ed9t ng\u01b0\u1eddi d\xf9ng v\xe0 nh\xf3m kh\xf4ng ph\u1ea3i `root` t\xean l\xe0 `appuser` v\xe0 chuy\u1ec3n sang ng\u01b0\u1eddi d\xf9ng \u0111\xf3.\n- Expose c\u1ed5ng 3000.\n- \u0110\u1eb7t l\u1ec7nh kh\u1edfi \u0111\u1ed9ng m\u1eb7c \u0111\u1ecbnh l\xe0 `node dist/index.js`.\n"})}),"\n",(0,r.jsxs)(e.admonition,{title:"M\u1eb9o t\u1ed1i \u01b0u h\xf3a & B\u1ea3o m\u1eadt",type:"tip",children:[(0,r.jsxs)(e.p,{children:["\u0110\u1ec3 l\xe0m cho ",(0,r.jsx)(e.code,{children:"Dockerfile"})," c\u1ee7a b\u1ea1n hi\u1ec7u qu\u1ea3 h\u01a1n n\u1eefa, h\xe3y y\xeau c\u1ea7u AI:"]}),(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsxs)(e.strong,{children:["T\u1ea1o file ",(0,r.jsx)(e.code,{children:".dockerignore"}),":"]})," ",(0,r.jsx)(e.code,{children:'"H\xe3y t\u1ea1o m\u1ed9t file .dockerignore ti\xeau chu\u1ea9n cho m\u1ed9t d\u1ef1 \xe1n Node.js \u0111\u1ec3 lo\u1ea1i tr\u1eeb c\xe1c file kh\xf4ng c\u1ea7n thi\u1ebft nh\u01b0 node_modules, .env, v\xe0 logs."'})," \u0110i\u1ec1u n\xe0y gi\xfap t\u0103ng t\u1ed1c \u0111\u1ed9 build v\xe0 gi\u1ea3m k\xedch th\u01b0\u1edbc context."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Ch\u1ea1y v\u1edbi ng\u01b0\u1eddi d\xf9ng kh\xf4ng ph\u1ea3i root:"})," Y\xeau c\u1ea7u tr\xean \u0111\xe3 bao g\u1ed3m b\u01b0\u1edbc n\xe0y (",(0,r.jsx)(e.code,{children:"USER appuser"}),"). \u0110\xe2y l\xe0 m\u1ed9t ",(0,r.jsx)(e.strong,{children:"th\u1ef1c h\xe0nh b\u1ea3o m\u1eadt quan tr\u1ecdng"})," \u0111\u1ec3 h\u1ea1n ch\u1ebf quy\u1ec1n h\u1ea1n c\u1ee7a container."]}),"\n"]})]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"-cicd-pipeline",children:"\ud83d\ude80 CI/CD Pipeline"}),"\n",(0,r.jsx)(e.h3,{id:"2-x\xe2y-d\u1ef1ng-pipeline-cicd-v\u1edbi-gitlab-enterprise",children:"2. X\xe2y d\u1ef1ng Pipeline CI/CD v\u1edbi GitLab Enterprise"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"T\xecnh hu\u1ed1ng:"})," B\u1ea1n c\u1ea7n thi\u1ebft l\u1eadp m\u1ed9t quy tr\xecnh CI/CD t\u1ef1 \u0111\u1ed9ng cho d\u1ef1 \xe1n Spring Boot (Java) s\u1eed d\u1ee5ng Maven trong m\xf4i tr\u01b0\u1eddng GitLab Enterprise. Pipeline ph\u1ea3i t\u1ef1 \u0111\u1ed9ng build, ki\u1ec3m th\u1eed v\xe0 c\xf3 kh\u1ea3 n\u0103ng m\u1edf r\u1ed9ng cho c\xe1c b\u01b0\u1edbc ph\u1ee9c t\u1ea1p h\u01a1n."]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Prompt:"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'T\u1ea1o m\u1ed9t file `.gitlab-ci.yml` \u0111\u1ec3 th\u1ef1c hi\u1ec7n CI/CD cho m\u1ed9t d\u1ef1 \xe1n Spring Boot s\u1eed d\u1ee5ng Maven trong GitLab Enterprise.\n\nY\xeau c\u1ea7u pipeline:\n\nStages: Define c\xe1c giai \u0111o\u1ea1n `build`, `test`, `security-scan`, `package`\n\nVariables:\n- MAVEN_OPTS: "-Dmaven.repo.local=.m2/repository"\n- MAVEN_CLI_OPTS: "--batch-mode --errors --fail-at-end --show-version"\n\nCache:\n- Cache th\u01b0 m\u1ee5c `.m2/repository` \u0111\u1ec3 t\u0103ng t\u1ed1c \u0111\u1ed9 build cho c\xe1c l\u1ea7n ch\u1ea1y sau\n\nJobs:\n1. build-job (stage: build):\n   - S\u1eed d\u1ee5ng image `maven:3.8.4-openjdk-17`\n   - Ch\u1ea1y `mvn $MAVEN_CLI_OPTS compile`\n   - Artifacts: l\u01b0u tr\u1eef th\u01b0 m\u1ee5c `target/` v\u1edbi th\u1eddi gian h\u1ebft h\u1ea1n 1 gi\u1edd\n\n2. test-job (stage: test):\n   - Depends on build-job\n   - Ch\u1ea1y unit tests v\u1edbi `mvn $MAVEN_CLI_OPTS test`\n   - Reports: xu\u1ea5t JUnit test reports \u0111\u1ecbnh d\u1ea1ng XML\n\n3. package-job (stage: package):\n   - Only ch\u1ea1y tr\xean branch `main`\n   - Ch\u1ea1y `mvn $MAVEN_CLI_OPTS package -DskipTests`\n   - Artifacts: l\u01b0u tr\u1eef file JAR v\u1edbi th\u1eddi gian h\u1ebft h\u1ea1n 1 tu\u1ea7n\n'})}),"\n",(0,r.jsxs)(e.admonition,{title:"M\u1eb9o m\u1edf r\u1ed9ng Pipeline",type:"tip",children:[(0,r.jsx)(e.p,{children:"B\u1ea1n c\xf3 th\u1ec3 d\u1ec5 d\xe0ng y\xeau c\u1ea7u AI n\xe2ng c\u1ea5p pipeline n\xe0y. H\xe3y th\u1eed c\xe1c prompt n\u1ed1i ti\u1ebfp:"}),(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Qu\xe9t b\u1ea3o m\u1eadt:"})," ",(0,r.jsx)(e.code,{children:'"D\u1ef1a tr\xean pipeline tr\xean, h\xe3y th\xeam m\u1ed9t job security-scan s\u1eed d\u1ee5ng GitLab SAST (Static Application Security Testing) \u0111\u1ec3 qu\xe9t l\u1ed7 h\u1ed5ng b\u1ea3o m\u1eadt trong m\xe3 ngu\u1ed3n."'})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Build Docker Image:"})," ",(0,r.jsx)(e.code,{children:"\"Th\xeam m\u1ed9t job 'docker-build' \u0111\u1ec3 build Docker image v\xe0 \u0111\u1ea9y l\xean GitLab Container Registry. S\u1eed d\u1ee5ng $CI_REGISTRY_USER v\xe0 $CI_REGISTRY_PASSWORD \u0111\u1ec3 \u0111\u0103ng nh\u1eadp.\""})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Deploy to Kubernetes:"})," ",(0,r.jsx)(e.code,{children:"\"Th\xeam m\u1ed9t job 'deploy-staging' s\u1eed d\u1ee5ng kubectl \u0111\u1ec3 deploy \u1ee9ng d\u1ee5ng l\xean Kubernetes namespace 'staging'. Ch\u1ec9 ch\u1ea1y khi c\xf3 merge request v\xe0o branch 'main'.\""})]}),"\n"]})]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"\ufe0f-infrastructure-as-code",children:"\u2601\ufe0f Infrastructure as Code"}),"\n",(0,r.jsx)(e.h3,{id:"3-kh\u1edfi-t\u1ea1o-h\u1ea1-t\u1ea7ng-aws-v\u1edbi-terraform",children:"3. Kh\u1edfi t\u1ea1o h\u1ea1 t\u1ea7ng AWS v\u1edbi Terraform"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"T\xecnh hu\u1ed1ng:"})," B\u1ea1n c\u1ea7n t\u1ea1o m\u1ed9t module Terraform c\xf3 th\u1ec3 t\xe1i s\u1eed d\u1ee5ng \u0111\u1ec3 kh\u1edfi t\u1ea1o m\u1ed9t S3 bucket tr\xean AWS, \u0111\u01b0\u1ee3c c\u1ea5u h\xecnh \u0111\u1ec3 l\u01b0u tr\u1eef m\u1ed9t trang web t\u0129nh."]}),"\n",(0,r.jsx)(e.admonition,{title:"T\u1ea1i sao d\xf9ng Terraform Module?",type:"info",children:(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Terraform Module"})," l\xe0 m\u1ed9t t\u1eadp h\u1ee3p c\xe1c file ",(0,r.jsx)(e.code,{children:".tf"})," \u0111\u01b0\u1ee3c gom l\u1ea1i th\xe0nh m\u1ed9t \u0111\u01a1n v\u1ecb logic. Vi\u1ec7c s\u1eed d\u1ee5ng module gi\xfap b\u1ea1n ",(0,r.jsx)(e.strong,{children:"\u0111\xf3ng g\xf3i v\xe0 t\xe1i s\u1eed d\u1ee5ng"})," c\xe1c c\u1ea5u h\xecnh h\u1ea1 t\u1ea7ng, \u0111\u1ea3m b\u1ea3o t\xednh nh\u1ea5t qu\xe1n, gi\u1ea3m l\u1eb7p l\u1ea1i m\xe3 v\xe0 \u0111\u01a1n gi\u1ea3n h\xf3a vi\u1ec7c qu\u1ea3n l\xfd c\xe1c m\xf4i tr\u01b0\u1eddng ph\u1ee9c t\u1ea1p (dev, staging, prod)."]})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Prompt:"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"H\xe3y vi\u1ebft m\u1ed9t module Terraform \u0111\u1ec3 t\u1ea1o m\u1ed9t S3 bucket tr\xean AWS cho vi\u1ec7c l\u01b0u tr\u1eef website t\u0129nh.\n\nY\xeau c\u1ea7u c\u1ea5u tr\xfac module:\n\nmain.tf:\n- Khai b\xe1o t\xe0i nguy\xean `aws_s3_bucket` v\u1edbi t\xean bucket \u0111\u01b0\u1ee3c truy\u1ec1n v\xe0o qua bi\u1ebfn.\n- Khai b\xe1o t\xe0i nguy\xean `aws_s3_bucket_website_configuration` \u0111\u1ec3 k\xedch ho\u1ea1t t\xednh n\u0103ng website hosting.\n- Khai b\xe1o t\xe0i nguy\xean `aws_s3_bucket_public_access_block` \u0111\u1ec3 ch\u1ec9 cho ph\xe9p truy c\u1eadp c\xf4ng khai th\xf4ng qua policy.\n- Khai b\xe1o t\xe0i nguy\xean `aws_s3_bucket_policy` \u0111\u1ec3 c\u1ea5p quy\u1ec1n \u0111\u1ecdc c\xf4ng khai (`s3:GetObject`) cho bucket.\n\nvariables.tf:\n- \u0110\u1ecbnh ngh\u0129a bi\u1ebfn `bucket_name` (ki\u1ec3u string) cho t\xean bucket.\n- \u0110\u1ecbnh ngh\u0129a bi\u1ebfn `tags` (ki\u1ec3u map(string)) cho c\xe1c tag c\u1ee7a t\xe0i nguy\xean.\n\noutputs.tf:\n- Xu\u1ea5t ra `bucket_id` (ID c\u1ee7a bucket).\n- Xu\u1ea5t ra `bucket_website_endpoint` (endpoint c\u1ee7a website).\n\nH\xe3y \u0111\u1ea3m b\u1ea3o code tu\xe2n th\u1ee7 c\xe1c th\u1ef1c h\xe0nh t\u1ed1t nh\u1ea5t c\u1ee7a Terraform.\n"})}),"\n",(0,r.jsx)(e.h3,{id:"4-c\u1ea5u-h\xecnh-kubernetes-deployment-v\u1edbi-helm",children:"4. C\u1ea5u h\xecnh Kubernetes Deployment v\u1edbi Helm"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"T\xecnh hu\u1ed1ng:"})," B\u1ea1n c\u1ea7n t\u1ea1o m\u1ed9t Helm chart \u0111\u1ec3 deploy m\u1ed9t \u1ee9ng d\u1ee5ng microservice l\xean Kubernetes cluster v\u1edbi c\xe1c th\xe0nh ph\u1ea7n c\u1ea7n thi\u1ebft nh\u01b0 Deployment, Service, v\xe0 Ingress."]}),"\n",(0,r.jsx)(e.admonition,{title:"Helm - Package Manager cho Kubernetes",type:"info",children:(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Helm"})," l\xe0 c\xf4ng c\u1ee5 qu\u1ea3n l\xfd package cho Kubernetes, gi\xfap \u0111\u01a1n gi\u1ea3n h\xf3a vi\u1ec7c deploy v\xe0 qu\u1ea3n l\xfd \u1ee9ng d\u1ee5ng. Helm chart cho ph\xe9p b\u1ea1n template h\xf3a c\xe1c manifest Kubernetes, gi\xfap d\u1ec5 d\xe0ng qu\u1ea3n l\xfd c\u1ea5u h\xecnh cho nhi\u1ec1u m\xf4i tr\u01b0\u1eddng kh\xe1c nhau."]})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Prompt:"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'H\xe3y t\u1ea1o m\u1ed9t Helm chart ho\xe0n ch\u1ec9nh cho vi\u1ec7c deploy m\u1ed9t \u1ee9ng d\u1ee5ng web microservice l\xean Kubernetes.\n\nY\xeau c\u1ea7u c\u1ea5u tr\xfac Helm chart:\n\nChart.yaml:\n- apiVersion: v2\n- name: microservice-app\n- version: 0.1.0\n- appVersion: "1.0.0"\n\nvalues.yaml:\n- image: repository, tag, pullPolicy\n- replicaCount: 3\n- service: type, port, targetPort\n- ingress: enabled, host, tls settings\n- resources: requests v\xe0 limits cho CPU/Memory\n- autoscaling: enabled, minReplicas, maxReplicas, targetCPUUtilizationPercentage\n\ntemplates/deployment.yaml:\n- Kubernetes Deployment v\u1edbi container spec\n- S\u1eed d\u1ee5ng values t\u1eeb values.yaml\n- Health checks (livenessProbe, readinessProbe)\n\ntemplates/service.yaml:\n- Kubernetes Service \u0111\u1ec3 expose application\n\ntemplates/ingress.yaml:\n- Kubernetes Ingress \u0111\u1ec3 routing traffic t\u1eeb b\xean ngo\xe0i\n- Conditional d\u1ef1a tr\xean ingress.enabled\n\ntemplates/hpa.yaml:\n- HorizontalPodAutoscaler cho auto scaling\n- Conditional d\u1ef1a tr\xean autoscaling.enabled\n'})}),"\n",(0,r.jsx)(e.h3,{id:"5-setup-gitlab-runner-cho-cicd",children:"5. Setup GitLab Runner cho CI/CD"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"T\xecnh hu\u1ed1ng:"})," B\u1ea1n c\u1ea7n c\u1ea5u h\xecnh GitLab Runner trong m\xf4i tr\u01b0\u1eddng Kubernetes \u0111\u1ec3 ch\u1ea1y c\xe1c CI/CD pipeline c\u1ee7a GitLab Enterprise."]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Prompt:"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"H\xe3y h\u01b0\u1edbng d\u1eabn c\xe1ch setup GitLab Runner trong Kubernetes cluster \u0111\u1ec3 ph\u1ee5c v\u1ee5 cho GitLab Enterprise CI/CD.\n\nY\xeau c\u1ea7u setup:\n\nChu\u1ea9n b\u1ecb:\n- L\u1ea5y registration token t\u1eeb GitLab Enterprise (Settings > CI/CD > Runners)\n- T\u1ea1o namespace `gitlab-runner` trong Kubernetes\n\nGitLab Runner ConfigMap:\n- T\u1ea1o ConfigMap ch\u1ee9a c\u1ea5u h\xecnh runner\n- C\u1ea5u h\xecnh executor l\xe0 `kubernetes`\n- Set resource limits cho c\xe1c job container\n- C\u1ea5u h\xecnh pull policy cho Docker images\n\nGitLab Runner Deployment:\n- S\u1eed d\u1ee5ng image `gitlab/gitlab-runner:latest`\n- Mount ConfigMap v\xe0 registration token qua Secret\n- Set resource requests/limits cho runner container\n- C\u1ea5u h\xecnh RBAC permissions c\u1ea7n thi\u1ebft\n\nRBAC Setup:\n- T\u1ea1o ServiceAccount cho GitLab Runner\n- T\u1ea1o ClusterRole v\u1edbi permissions c\u1ea7n thi\u1ebft (pods, services, deployments)\n- Bind ClusterRole v\u1edbi ServiceAccount\n\nVerification:\n- Commands \u0111\u1ec3 verify runner \u0111\xe3 \u0111\u0103ng k\xfd th\xe0nh c\xf4ng\n- Test pipeline \u0111\u01a1n gi\u1ea3n \u0111\u1ec3 ki\u1ec3m tra runner ho\u1ea1t \u0111\u1ed9ng\n"})})]})}function d(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>o,x:()=>s});var i=t(6540);const r={},c=i.createContext(r);function o(n){const e=i.useContext(c);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:o(n.components),i.createElement(c.Provider,{value:e},n.children)}}}]);